angular.module("angularStacktrace",[]),angular.module("angularStacktrace").provider("stacktrace",function(){this.options={type:"POST",url:null,contentType:"application/json"},this.setUrl=function(t){return function(r){return t.options.url=r,t}}(this),this.setType=function(t){return function(r){return t.options.type=r,t}}(this),this.$get=function(){return{getOption:function(t){return function(r){return t.options[r]}}(this)}}}).provider("$exceptionHandler",function(){this.$get=["errorLogService",function(t){return t}]}).factory("traceService",function(){return{print:printStackTrace}}).factory("errorLogService",["$log","$window","stacktrace","traceService",function(t,r,n,e){return function(o,i){var a,c,u,p;t.error.apply(t,arguments);try{if(c=o.toString(),u=e.print({e:o}),p=n.getOption("url"),!p)throw new Error("Cannot send exception report, please set url.");return $.ajax({type:n.getOption("type"),url:n.getOption("url"),contentType:"application/json",data:angular.toJson({errorUrl:r.location.href,errorMessage:c,stackTrace:u})})}catch(s){return a=s,t.error(a)}}}]);